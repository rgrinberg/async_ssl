OASISFormat:      0.3
OCamlVersion:     >= 4.00.0
FindlibVersion:   >= 1.3.2
Name:             async_ssl
Version:          113.00.00
Synopsis:         Async wrappers for ssl
Authors:          Jane Street Group, LLC <opensource@janestreet.com>
Copyrights:       (C) 2008-2013 Jane Street Group LLC <opensource@janestreet.com>
Maintainers:      Jane Street Group, LLC <opensource@janestreet.com>
License:          Apache-2.0
LicenseFile:      LICENSE.txt
Homepage:         https://github.com/janestreet/async
Plugins:          StdFiles (0.3), DevFiles (0.3), META (0.3)
XStdFilesAUTHORS: false
XStdFilesREADME:  false
BuildTools:       ocamlbuild, camlp4o
Description:
  An Async-pipe-based interface with OpenSSL.
  .
  This library allows you to create an SSL client and server, with encrypted
  communication between both.

Flag brew_openssl
  Default$: system(macosx)
  Description: use homebrew from openssl

Library async_ssl
  Path:               src
  FindlibName:        async_ssl
  Pack:               true
  Modules:            Ffi,
                      Ffi_generated,
                      Ffi_generated_types,
                      Import,
                      Ssl,
                      Std,
                      Version
  CSources:           ffi_generated_stubs.c
  BuildDepends:       async_ssl.bindings,
                      comparelib.syntax,
                      core,
                      async,
                      ctypes,
                      ctypes.stubs,
                      fieldslib.syntax,
                      herelib,
                      herelib.syntax,
                      pa_bench,
                      pa_bench.syntax,
                      pa_ounit,
                      pa_ounit.syntax,
                      pa_pipebang,
                      pa_test,
                      pa_test.syntax,
                      sexplib,
                      sexplib.syntax,
                      threads
  XMETARequires:      async_ssl.bindings,
                      core,
                      async,
                      ctypes,
                      ctypes.stubs,
                      fieldslib,
                      herelib,
                      pa_bench,
                      pa_ounit,
                      pa_test,
                      sexplib,
                      threads
  CCLib:              -lssl -lcrypto
  CCOpt:              -I$pkg_ctypes/..
  if flag(brew_openssl)
    CCOpt:              -I/usr/local/opt/openssl/include

Library async_ssl_bindings
  Path:               bindings
  FindlibName:        bindings
  FindlibParent:      async_ssl
  Pack:               true
  Modules:            Ffi_bindings
  BuildDepends:       ctypes,
                      ctypes.stubs,
                      threads
  XMETARequires:      ctypes,
                      ctypes.stubs,
                      threads

Executable ffi_stubgen
  MainIs:             ffi_stubgen.ml
  Install:            false
  Build:              false
  Path:               stubgen
  BuildDepends:       async_ssl.bindings

Executable ffi_types_stubgen
  MainIs:             ffi_types_stubgen.ml
  Install:            false
  Build:              false
  Path:               stubgen
  BuildDepends:       async_ssl.bindings,
                      ctypes.stubs
